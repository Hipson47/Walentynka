---
description: Core workflow, safety, and reporting standards for all tasks
alwaysApply: true
---

# Core Workflow

## Planning & Discovery

- **Plan Mode First**: For any task involving more than 2 files or complex logic, switch to Plan Mode.
- **Codebase Discovery**: Use semantic search (`codebase_search`) and `grep` to understand existing patterns before proposing changes.
- **Trace Symbols**: Always trace definitions and usages of functions/classes before editing them.

## Implementation Standards

- **Incremental Changes**: Make small, logical commits. Do not refactor unrelated code.
- **Safety First**: NEVER update git config or run destructive commands without explicit approval.
- **No Secrets**: Check for and exclude `.env`, tokens, or keys from any commit.
- **Linter Awareness**: Run `read_lints` after edits and fix any introduced errors immediately.

## Verification & Reporting

- **Test Before Claiming**: Run relevant tests or build commands to verify changes.
- **Manual Check**: If no tests exist, describe the manual verification steps taken.
- **Summary**: End with a file-by-file summary plus validation status.
- **Approval**: Ask for approval before destructive actions (deletes, moves, history rewrites).
